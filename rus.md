# Нативная плавная прокрутка с помощью JS

Появился новый способ вызывать прокрутку с помощью JavaScript, с помощью него 
можно определять её поведение: плавная, мгновенная или автоматическая (на выбор 
браузера, полагаю).

    window.scrollBy({ top: 100, behavior: 'smooth' });

(Арррг, как же бесит использование слова behavior, вместо behaviour, на 
американский манер).

Я вчера прочла [статью][1], в которой говорится, что этот метод будет доступен 
(нашла ссылку на неё в [этом твите][2] сделанном [@FirefoxNightly][3]) и 
немедленно захотела попробовать!

Сперва я удостоверилась, что у меня самая свежая копия [Firefox Nightly][4] — 
вам понадобится версия от 28 Октября или более свежая. Затем включила поддержку 
свойства открыв настройки браузера с помощью url [about:config][5] и установив 
true в качестве значения свойства layout.css.scroll-behavior.enabled. Даже 
перезапускать браузер не понадобилось.

Мой [пример][6] выглядит следующим образом:

![Анимированный пример][Плавная нативная прокрутка]

([Исходный код][7])

Кроме того, вы можете установить режим прокрутки в CSS:

    #myelement {
        scroll-behavior: smooth;
    }

Но в моем примере я такую возможность не использовала. Не хотите написать свой? :)

Причина, по которой меня всё это так радует, в том, что раньше приходилось 
эмулировать такое поведение с помощью плагинов и том, что при этом происходит
многократное вмешательство в работу пайплайна рендеринга и это замечательно, 
что теперь прокрутка будет реализоваться средствами браузера и станет шикарно 
плавной. Остальные платформы обладают той же проблемой и веб в результате 
выглядит «не круто». Ну, теперь у нас есть решение.

Еще одно достоинство этого метода в том, что он отлично деградирует — если 
движок не распознает аргумент, то его поведение … просто вернется к 
стандартному, но прокрутка все же сработает.

Думаю вы можете продолжать использовать эти ваши не-очень-высоко-производительные 
плагины, если вам нужен свой, конкретный, алгоритм прокрутки (возможно вы хотите, 
что бы она определенным образом пружинила и т.д.). Используйте значение `instant` 
вместо `smooth` и — вперед. 

*СКРОЛЬ, СКРОЛЬ, СКРОЛЬ, СКРОЛЬ!*



[1]: https://groups.google.com/forum/#!msg/mozilla.dev.platform/tUfNZu3GpMQ/nIocFkImYSAJ
[2]: https://twitter.com/FirefoxNightly/status/527016504798085120
[3]: https://twitter.com/FirefoxNightly/
[4]: http://nightly.mozilla.org/
[5]: about:config
[6]: http://sole.github.io/test_cases/smooth_scrolling/
[7]: https://github.com/sole/test_cases/tree/gh-pages/smooth_scrolling

[Плавная нативная прокрутка]: img/smooth_scrolling.gif "Плавная нативная прокрутка"